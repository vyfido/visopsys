<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Visopsys Developer Page</title>

<meta name="Microsoft Border" content="lb">
</head>

<body bgcolor="#285DAB" text="#FFFFFF" link="#FFFF00" vlink="#00FF00" background="../img/background.jpg"><!--msnavigation--><table dir="ltr" border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td valign="top" width="1%">
<div align="center"><center>

<table border="0" cellpadding="0" cellspacing="0" width="93">
  <tr>
    <td width="99"><p align="center"><font color="#FFFFFF"><a href="../index.html">
    <img src="../img/nav_buttons/home.gif" alt="Go back to the Visopsys Home Page." border="0" align="middle" width="53" height="25"></a><br>
    <br>
    <a href="../about/index.html">
    <img src="../img/nav_buttons/about.gif" alt="What is Visopsys?" border="0" align="middle" width="60" height="25"></a></font><p align="center">
    <a href="../about/screenshots.html">
    <img border="0" src="../img/nav_buttons/screenshots.gif" width="105" height="22"></a><font color="#FFFFFF"><br>
    <br>
    <a href="../download/index.html">
    <img src="../img/nav_buttons/download.gif" alt="Download Visopsys and associated files." border="0" align="middle" width="95" height="25"></a></font><br>
    <br>
    <a href="index.html">
    <img src="../img/nav_buttons/developers.gif" border="0" alt="Resources for Visopsys development" align="middle" width="97" height="29"></a><br>
    <br>
    <a href="../osdev/index.html">
    <img src="../img/nav_buttons/osdev.gif" border="0" alt="OS Development Resources" align="middle" width="64" height="25"></a><br>
    <br>
    <a href="../search.html">
    <img src="../img/nav_buttons/search.gif" alt="Search the Visopsys Site" align="middle" border="0" width="63" height="24"></a></td>
  </tr>
</table>
</center></div>

</td><td valign="top" width="24"></td><!--msnavigation--><td valign="top">

<p align="center">&nbsp;</p>

<p align="center">
<img src="../img/banners/visopsys-logo.gif" align="middle" border="0" width="291" height="94"><br>
<img src="../img/banners/visopsys-developers.gif" border="0" align="middle" width="291" height="56"></p>

<p><b><font size="4">THE VISOPSYS SHELL LIBRARY (Version 0.5)<br>
</font></b>(version 0.4 is <a href="shell_library_0.4.html">here</a>)</p>
<p><font size="4">The shell library is a small set of functions created for the 
Visopsys shell, /programs/vsh, and provided as a library for other programs to 
use. </font></p>
<p><font size="4">The functions are defined in the header file &lt;sys/vsh.h&gt; and 
the code is contained in libvsh.a (link with '-lvsh'). This code also requires a 
C library to link correctly (link with '-lc').</font></p>

<p>&nbsp;</p>

<p><p><font face="Courier New">void vshCompleteFilename(char *buffer)
</font></p>
<blockquote>
  <p>Attempts to complete a portion of a filename, 'buffer'.  The function will append either the remainder of the complete filename, or if possible, some portion thereof.  The result simply depends on whether a good completion or partial completion exists.  'buffer' must of course be large enough to contain any potential filename completion.
</p></blockquote>
<p><font face="Courier New">int vshCopyFile(const char *srcFile, const char *destFile)
</font></p>
<blockquote>
  <p>Copy the file specified by the name 'srcFile' to the filename 'destFile'.  Both filenames must be absolute pathnames, beginning with '/'.
</p></blockquote>
<p><font face="Courier New">int vshCursorMenu(const char *prompt, int numItems, char *items[],
</font></p>
<blockquote>
  <p>This will create a pretty cursor-changeable text menu with the supplied 'prompt' string at the stop.  Returns the integer (zero-based) selected item number, or else negative on error or no selection.
</p></blockquote>
<p><font face="Courier New">int vshDeleteFile(const char *deleteFile)
</font></p>
<blockquote>
  <p>Delete the file specified by the name 'deleteFile'.  'deleteFile' must be an absolute pathname, beginning with '/'.
</p></blockquote>
<p><font face="Courier New">int vshDumpFile(const char *fileName)
</font></p>
<blockquote>
  <p>Print the contents of the file, specified by 'fileName', to standard output.  'fileName' must be an absolute pathname, beginning with '/'.
</p></blockquote>
<p><font face="Courier New">int vshFileList(const char *itemName)
</font></p>
<blockquote>
  <p>Print a listing of a file or directory named 'itemName'.  'itemName' must be an absolute pathname, beginning with '/'.
</p></blockquote>
<p><font face="Courier New">void vshMakeAbsolutePath(const char *orig, char *new)
</font></p>
<blockquote>
  <p>Turns a filename, specified by 'orig', into an absolute pathname 'new'.  This basically just amounts to prepending the name of the current directory (plus a '/') to the supplied name.  'new' must be a buffer large enough to hold the entire filename.
</p></blockquote>
<p><font face="Courier New">int vshParseCommand(char *commandLine, char *command, int *argc,
</font></p>
<blockquote>
  <p>Attempts to take a raw 'commandLine' string and parse it into a command filename and arguments, suitable for passing to the kernel API functionn loaderLoadAndExec.  The commandLine string will be modified, with NULLs placed at the end of each argument.  'command' must be a buffer suitable for a full filename.  'argc' will receive the number of argument pointers placed in the 'argv' array.  Returns 0 on success, negative otherwise.
</p></blockquote>
<p><font face="Courier New">void vshPasswordPrompt(const char *prompt, char *buffer)
</font></p>
<blockquote>
  <p>Produces a text-mode prompt for the user to enter a password.  The prompt message is the first parameter, and a buffer to contain the result is the second parameter.
</p></blockquote>
<p><font face="Courier New">void vshPrintDate(unsigned unformattedDate)
</font></p>
<blockquote>
  <p>Print the packed date value, specified by the unsigned integer 'unformattedDate' -- such as that found in the file.modifiedDate field -- in a (for now, arbitrary) human-readable format.
</p></blockquote>
<p><font face="Courier New">void vshPrintTime(unsigned unformattedTime)
</font></p>
<blockquote>
  <p>Print the packed time value, specified by the unsigned integer 'unformattedTime' -- such as that found in the file.modifiedTime field -- in a (for now, arbitrary) human-readable format to standard output.
</p></blockquote>
<p><font face="Courier New">int vshRenameFile(const char *srcFile, const char *destFile)
</font></p>
<blockquote>
  <p>Rename (move) the file specified by the name 'srcFile' to the destination 'destFile'.  Both filenames must be absolute pathnames, beginning with '/'.
</p></blockquote>
<p><font face="Courier New">int vshSearchPath(const char *orig, char *new)
</font></p>
<blockquote>
  <p>Search the current path (defined by the PATH environment variable) for the first occurrence of the filename specified in 'orig', and place the complete, absolete pathname result in 'new'.  If a match is found, the function returns zero.  Otherwise, it returns a negative error code.  'new' must be large enough to hold the complete absolute filename of any match found.
</p></blockquote>
<!--msnavigation--></td></tr><!--msnavigation--></table><!--msnavigation--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td>

<blockquote>
  <blockquote>
    <p align="right"><font color="#FFFFFF"><a href="../index.html">
    <img
    src="../img/nav_buttons/home.gif" alt="Go back to the Visopsys Home Page." border="0"
    align="middle" width="53" height="25"></a>&nbsp;&nbsp; <a href="../about/index.html">
    <img src="../img/nav_buttons/about.gif"
    alt="What is Visopsys?" border="0" align="middle" width="60" height="25"></a>&nbsp;&nbsp; </font>
    <a href="../about/screenshots.html">
    <img border="0" src="../img/nav_buttons/screenshots.gif" align="middle" width="105" height="22"></a>&nbsp;&nbsp; <font color="#FFFFFF"> <a href="../download/index.html">
    <img
    src="../img/nav_buttons/download.gif" alt="Download Visopsys and associated files."
    border="0" align="middle" width="95" height="25"></a>&nbsp; </font>&nbsp;<a href="index.html"><img
    src="../img/nav_buttons/developers.gif" alt="Resources for Visopsys development"
    border="0" align="middle" width="97" height="29"></a>&nbsp;&nbsp; <a href="../osdev/index.html">
    <img
    src="../img/nav_buttons/osdev.gif" border="0" align="middle" width="64" height="25"></a>&nbsp;&nbsp; <a href="../search.html">
    <img
    src="../img/nav_buttons/search.gif" alt="Search the Visopsys Site" align="middle"
    border="0" width="63" height="24"></a><font face="Times New Roman" color="#FFFFFF"><br>
    This site is copyright © 1999-2004, J.
    Andrew McLaughlin<br>
    Visopsys and Visopsys.org are trademarks of J. Andrew McLaughlin<br>
    Last updated on
    September 11, 2004</font></p>
  </blockquote>
</blockquote>

<p>&nbsp;</p>

</td></tr><!--msnavigation--></table></body>
</html>